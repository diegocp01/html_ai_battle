<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dog Fetching Ball</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(180deg, #87CEEB 0%, #87CEEB 60%, #228B22 60%, #228B22 100%);
            overflow: hidden;
            font-family: Arial, sans-serif;
        }

        .scene {
            position: relative;
            width: 800px;
            height: 400px;
            background: linear-gradient(180deg, #87CEEB 0%, #87CEEB 60%, #2d8a2d 60%, #228B22 100%);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        /* Sun */
        .sun {
            position: absolute;
            top: 30px;
            right: 50px;
            width: 60px;
            height: 60px;
            background: #FFD700;
            border-radius: 50%;
            box-shadow: 0 0 40px #FFD700;
        }

        /* Clouds */
        .cloud {
            position: absolute;
            background: white;
            border-radius: 50px;
            animation: float 6s ease-in-out infinite;
        }

        .cloud::before, .cloud::after {
            content: '';
            position: absolute;
            background: white;
            border-radius: 50%;
        }

        .cloud1 {
            top: 40px;
            left: 100px;
            width: 80px;
            height: 30px;
        }

        .cloud1::before {
            width: 40px;
            height: 40px;
            top: -20px;
            left: 10px;
        }

        .cloud1::after {
            width: 30px;
            height: 30px;
            top: -15px;
            left: 40px;
        }

        .cloud2 {
            top: 70px;
            left: 300px;
            width: 60px;
            height: 25px;
            animation-delay: -2s;
        }

        .cloud2::before {
            width: 30px;
            height: 30px;
            top: -15px;
            left: 10px;
        }

        .cloud2::after {
            width: 25px;
            height: 25px;
            top: -10px;
            left: 30px;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* Ball */
        .ball {
            position: absolute;
            width: 25px;
            height: 25px;
            background: radial-gradient(circle at 30% 30%, #ff6b6b, #c0392b);
            border-radius: 50%;
            bottom: 170px;
            left: 100px;
            z-index: 10;
            transition: none;
            box-shadow: inset -3px -3px 5px rgba(0,0,0,0.3);
        }

        .ball::after {
            content: '';
            position: absolute;
            width: 8px;
            height: 8px;
            background: rgba(255,255,255,0.5);
            border-radius: 50%;
            top: 5px;
            left: 5px;
        }

        .ball.thrown {
            animation: throwBall 1s ease-out forwards;
        }

        .ball.onGround {
            bottom: 165px;
        }

        @keyframes throwBall {
            0% { left: 100px; bottom: 170px; }
            50% { left: 450px; bottom: 280px; }
            100% { left: 650px; bottom: 165px; }
        }

        /* Dog */
        .dog {
            position: absolute;
            bottom: 155px;
            left: 50px;
            z-index: 5;
            transform: scaleX(1);
            transition: transform 0.1s;
        }

        .dog.flip {
            transform: scaleX(-1);
        }

        .dog-body {
            position: relative;
            width: 80px;
            height: 45px;
            background: linear-gradient(180deg, #d4a574 0%, #c49464 100%);
            border-radius: 40px 50px 35px 35px;
            box-shadow: inset 0 -5px 10px rgba(0,0,0,0.1);
        }

        /* Spots on body */
        .dog-body::before {
            content: '';
            position: absolute;
            width: 20px;
            height: 15px;
            background: #a67c52;
            border-radius: 50%;
            top: 10px;
            left: 30px;
        }

        .dog-head {
            position: absolute;
            width: 45px;
            height: 40px;
            background: linear-gradient(180deg, #d4a574 0%, #c49464 100%);
            border-radius: 50% 50% 45% 45%;
            top: -25px;
            left: -15px;
        }

        /* Snout */
        .dog-snout {
            position: absolute;
            width: 25px;
            height: 18px;
            background: #e8c9a8;
            border-radius: 50% 50% 45% 45%;
            bottom: 2px;
            left: -8px;
        }

        .dog-nose {
            position: absolute;
            width: 10px;
            height: 8px;
            background: #2c1810;
            border-radius: 50% 50% 45% 45%;
            top: 2px;
            left: 50%;
            transform: translateX(-50%);
        }

        /* Eyes */
        .dog-eye {
            position: absolute;
            width: 8px;
            height: 10px;
            background: #2c1810;
            border-radius: 50%;
            top: 10px;
        }

        .dog-eye.left {
            left: 8px;
        }

        .dog-eye.right {
            right: 12px;
        }

        .dog-eye::after {
            content: '';
            position: absolute;
            width: 3px;
            height: 3px;
            background: white;
            border-radius: 50%;
            top: 2px;
            left: 2px;
        }

        /* Ears */
        .dog-ear {
            position: absolute;
            width: 18px;
            height: 30px;
            background: #a67c52;
            border-radius: 50% 50% 50% 50%;
            top: -5px;
        }

        .dog-ear.left {
            left: 0;
            transform: rotate(-20deg);
        }

        .dog-ear.right {
            right: 2px;
            transform: rotate(20deg);
        }

        /* Tail */
        .dog-tail {
            position: absolute;
            width: 8px;
            height: 35px;
            background: #d4a574;
            border-radius: 10px;
            right: -5px;
            top: -15px;
            transform-origin: bottom center;
            animation: wagTail 0.3s ease-in-out infinite alternate;
        }

        @keyframes wagTail {
            0% { transform: rotate(-20deg); }
            100% { transform: rotate(20deg); }
        }

        /* Legs */
        .dog-legs {
            position: absolute;
            bottom: -25px;
            left: 5px;
            width: 70px;
            height: 25px;
        }

        .dog-leg {
            position: absolute;
            width: 12px;
            height: 25px;
            background: #c49464;
            border-radius: 5px 5px 8px 8px;
        }

        .dog-leg.front-left { left: 5px; }
        .dog-leg.front-right { left: 20px; }
        .dog-leg.back-left { right: 20px; }
        .dog-leg.back-right { right: 5px; }

        .dog.running .dog-leg.front-left {
            animation: runFrontLeft 0.2s ease-in-out infinite;
        }

        .dog.running .dog-leg.front-right {
            animation: runFrontRight 0.2s ease-in-out infinite;
        }

        .dog.running .dog-leg.back-left {
            animation: runBackLeft 0.2s ease-in-out infinite;
        }

        .dog.running .dog-leg.back-right {
            animation: runBackRight 0.2s ease-in-out infinite;
        }

        @keyframes runFrontLeft {
            0%, 100% { transform: rotate(-30deg) translateY(-5px); }
            50% { transform: rotate(30deg) translateY(0); }
        }

        @keyframes runFrontRight {
            0%, 100% { transform: rotate(30deg) translateY(0); }
            50% { transform: rotate(-30deg) translateY(-5px); }
        }

        @keyframes runBackLeft {
            0%, 100% { transform: rotate(30deg) translateY(0); }
            50% { transform: rotate(-30deg) translateY(-5px); }
        }

        @keyframes runBackRight {
            0%, 100% { transform: rotate(-30deg) translateY(-5px); }
            50% { transform: rotate(30deg) translateY(0); }
        }

        /* Ball in mouth */
        .ball-in-mouth {
            position: absolute;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle at 30% 30%, #ff6b6b, #c0392b);
            border-radius: 50%;
            left: -22px;
            bottom: 5px;
            display: none;
            box-shadow: inset -2px -2px 4px rgba(0,0,0,0.3);
        }

        .dog.has-ball .ball-in-mouth {
            display: block;
        }

        /* Instructions */
        .instructions {
            position: absolute;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255,255,255,0.9);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
            color: #333;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        /* Status */
        .status {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255,255,255,0.9);
            padding: 8px 15px;
            border-radius: 15px;
            font-size: 12px;
            color: #666;
        }

        /* Grass tufts */
        .grass {
            position: absolute;
            bottom: 158px;
            width: 100%;
        }

        .grass-tuft {
            position: absolute;
            width: 0;
            height: 0;
            border-left: 4px solid transparent;
            border-right: 4px solid transparent;
            border-bottom: 15px solid #1a6b1a;
        }

        .throw-btn {
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 30px;
            font-size: 16px;
            background: linear-gradient(180deg, #ff6b6b, #c0392b);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(192, 57, 43, 0.4);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .throw-btn:hover {
            transform: translateX(-50%) scale(1.05);
            box-shadow: 0 6px 20px rgba(192, 57, 43, 0.5);
        }

        .throw-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            box-shadow: none;
        }

        /* Excited animation */
        .dog.excited {
            animation: excited 0.2s ease-in-out infinite alternate;
        }

        @keyframes excited {
            0% { transform: translateY(0) scaleX(1); }
            100% { transform: translateY(-5px) scaleX(1); }
        }

        .dog.excited.flip {
            animation: excitedFlip 0.2s ease-in-out infinite alternate;
        }

        @keyframes excitedFlip {
            0% { transform: translateY(0) scaleX(-1); }
            100% { transform: translateY(-5px) scaleX(-1); }
        }
    </style>
</head>
<body>
    <div class="scene">
        <div class="sun"></div>
        <div class="cloud cloud1"></div>
        <div class="cloud cloud2"></div>
        
        <div class="grass">
            <div class="grass-tuft" style="left: 50px;"></div>
            <div class="grass-tuft" style="left: 150px;"></div>
            <div class="grass-tuft" style="left: 280px;"></div>
            <div class="grass-tuft" style="left: 400px;"></div>
            <div class="grass-tuft" style="left: 520px;"></div>
            <div class="grass-tuft" style="left: 650px;"></div>
            <div class="grass-tuft" style="left: 750px;"></div>
        </div>

        <div class="ball" id="ball"></div>

        <div class="dog" id="dog">
            <div class="dog-body">
                <div class="dog-head">
                    <div class="dog-ear left"></div>
                    <div class="dog-ear right"></div>
                    <div class="dog-eye left"></div>
                    <div class="dog-eye right"></div>
                    <div class="dog-snout">
                        <div class="dog-nose"></div>
                    </div>
                    <div class="ball-in-mouth"></div>
                </div>
                <div class="dog-tail"></div>
            </div>
            <div class="dog-legs">
                <div class="dog-leg front-left"></div>
                <div class="dog-leg front-right"></div>
                <div class="dog-leg back-left"></div>
                <div class="dog-leg back-right"></div>
            </div>
        </div>

        <div class="instructions">ðŸŽ¾ Click the button to throw the ball!</div>
        <div class="status" id="status">Ready to play!</div>
        <button class="throw-btn" id="throwBtn">Throw Ball! ðŸŽ¾</button>
    </div>

    <script>
        const dog = document.getElementById('dog');
        const ball = document.getElementById('ball');
        const throwBtn = document.getElementById('throwBtn');
        const status = document.getElementById('status');

        let isPlaying = false;
        const startPos = 50;
        const ballEndPos = 650;
        const dogSpeed = 3;

        function updateStatus(text) {
            status.textContent = text;
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        async function animateDogTo(targetX, hasBall = false) {
            return new Promise((resolve) => {
                let currentX = parseFloat(dog.style.left) || startPos;
                const direction = targetX > currentX ? 1 : -1;
                
                dog.classList.add('running');
                if (direction === -1) {
                    dog.classList.add('flip');
                } else {
                    dog.classList.remove('flip');
                }

                if (hasBall) {
                    dog.classList.add('has-ball');
                }

                function move() {
                    currentX += direction * dogSpeed;
                    
                    if ((direction === 1 && currentX >= targetX) || 
                        (direction === -1 && currentX <= targetX)) {
                        currentX = targetX;
                        dog.style.left = currentX + 'px';
                        dog.classList.remove('running');
                        resolve();
                    } else {
                        dog.style.left = currentX + 'px';
                        requestAnimationFrame(move);
                    }
                }
                
                move();
            });
        }

        async function playFetch() {
            if (isPlaying) return;
            isPlaying = true;
            throwBtn.disabled = true;

            // Reset
            dog.style.left = startPos + 'px';
            dog.classList.remove('flip', 'has-ball', 'excited');
            ball.style.left = '100px';
            ball.style.bottom = '170px';
            ball.classList.remove('thrown', 'onGround');

            // Dog gets excited
            updateStatus('ðŸ• Ooh! A ball!');
            dog.classList.add('excited');
            await sleep(800);
            dog.classList.remove('excited');

            // Throw ball
            updateStatus('ðŸŽ¾ Ball thrown!');
            ball.classList.add('thrown');
            await sleep(1000);
            ball.classList.remove('thrown');
            ball.classList.add('onGround');
            ball.style.left = ballEndPos + 'px';

            // Dog runs to ball
            updateStatus('ðŸ• Fetching...');
            await animateDogTo(ballEndPos - 60);

            // Pick up ball
            updateStatus('ðŸ• Got it!');
            dog.classList.add('has-ball');
            ball.style.display = 'none';
            await sleep(500);

            // Dog gets excited with ball
            dog.classList.add('excited');
            await sleep(500);
            dog.classList.remove('excited');

            // Run back
            updateStatus('ðŸ• Bringing it back!');
            await animateDogTo(startPos, true);

            // Drop ball
            updateStatus('ðŸ• Woof! Throw again!');
            dog.classList.remove('has-ball', 'flip');
            ball.style.display = 'block';
            ball.style.left = '100px';
            ball.style.bottom = '165px';
            ball.classList.remove('onGround');

            // Happy dance
            dog.classList.add('excited');
            await sleep(1000);
            dog.classList.remove('excited');

            updateStatus('Ready to play!');
            isPlaying = false;
            throwBtn.disabled = false;
        }

        throwBtn.addEventListener('click', playFetch);

        // Initialize dog position
        dog.style.left = startPos + 'px';
    </script>
</body>
</html>